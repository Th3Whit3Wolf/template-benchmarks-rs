# Rust template engine benchmarks

This repo tries to assess Rust template engine performance. Following the
download ratings from [crates.io](https://crates.io/categories/template-engine).

| Rank | Library | Description | Recent Downloads | Last Updated |
| :--- | :-----: | :---------- | ---------------: | :----------: |
| 2 | [handlebars](https://github.com/sunng87/handlebars-rust) | Handlebars templating implemented in Rust. | 490,266 | 28 March 2021 |
| 3 | [tera](https://tera.netlify.com/) | Template engine based on Jinja2/Django templates | 222,233 | 07 March 2021 |
| 4 | [askama](https://github.com/djc/askama) | Type-safe, compiled Jinja-like templates for Rust | 85,518 | 17 November 2020 |
| 5 | [liquid](https://github.com/cobalt-org/liquid-rust) | The liquid templating language for Rust | 51,531 | 27 February 2021 |
| 11 | [maud](https://maud.lambda.xyz/) | Compile-time HTML templates. | 12,019 | 09 January 2021 |
| 15 | [ructe](https://github.com/kaj/ructe) | Rust Compiled Templates, efficient type-safe web page templates. | 5,267 | 14 March 2021 |
| 21 | [horrorshow](https://github.com/Stebalien/horrorshow-rs) | a templating library written in rust macros | 3,287 | 21 March 2020 |
| 28 | [markup](https://github.com/utkarshkukreti/markup.rs) | A blazing fast, type-safe template engine for Rust. | 2,195 | 28 March 2021 |
| 33 | [sailfish](https://github.com/Kogia-sima/sailfish) | Really fast, intuitive template engine for Rust | 1,383 | 28 March 2021 |
| unranked | [fomat-macros](https://github.com/krdln/fomat-macros) | Alternative syntax for print/write/format-like macros with a small templating language | 46,635 | 24 February 2019 |
| unranked | [write!](https://doc.rust-lang.org/std/macro.write.html) | the std library `write!` macro | a lot | 23 March 2021 |
## Results

These results are from 05 April 2021 (rustc 1.51.0) on a GitHub Actions runner , which uses a Azure Standard_DS2_v2 virtual machine. 
For more information about the hardware used checkout [Microsoft Azure documentation](https://docs.microsoft.com/en-us/azure/virtual-machines/dv2-dsv2-series#dsv2-series).
Your mileage may vary.

As a [violin plot](https://en.wikipedia.org/wiki/Violin_plot) generated by [Criterion](https://japaric.github.io/criterion.rs/):

![Big table violin plot](big-table.svg)
![Teams violin plot](teams.svg)

Numbers, as output by Criterion:

### Big Table

| Library | Lower bound | Estimate | Upper bound | Relative Performance |
| ------- | ----------: | -------: | ----------: | :------------------- |
| Sailfish | 37.928 us | 37.934 us | 37.940 us | 100.00% |
| Markup | 74.256 us | 74.277 us | 74.300 us | 51.07% |
| fomat | 268.59 us | 268.77 us | 268.96 us | 14.11% |
| Maud | 291.84 us | 291.87 us | 291.91 us | 13.00% |
| Horrorshow | 343.89 us | 344.29 us | 344.95 us | 11.02% |
| write | 388.02 us | 388.08 us | 388.14 us | 9.77% |
| Ructe | 426.95 us | 427.74 us | 428.85 us | 8.87% |
| Askama | 544.80 us | 544.92 us | 545.04 us | 6.96% |
| Tera | 1.9377 ms | 1.9386 ms | 1.9397 ms | 1.96% |
| Handlebars | 4.5917 ms | 4.6023 ms | 4.6130 ms | 0.82% |
| Liquid | 14.523 ms | 14.528 ms | 14.532 ms | 0.26% |
 
### Teams

| Library | Lower bound | Estimate | Upper bound | Relative Performance |
| ------- | ----------: | -------: | ----------: | :------------------- |
| Sailfish | 59.411 ns | 60.154 ns | 60.906 ns | 100.00% |
| Markup | 120.27 ns | 120.32 ns | 120.37 ns | 50.00% |
| Maud | 265.92 ns | 266.11 ns | 266.31 ns | 22.56% |
| fomat | 420.91 ns | 421.05 ns | 421.21 ns | 14.25% |
| Horrorshow | 517.39 ns | 517.54 ns | 517.70 ns | 11.58% |
| write | 616.74 ns | 616.87 ns | 617.02 ns | 9.72% |
| Askama | 752.46 ns | 752.55 ns | 752.64 ns | 7.97% |
| Ructe | 845.05 ns | 845.40 ns | 845.77 ns | 7.10% |
| Tera | 4.9183 us | 4.9220 us | 4.9258 us | 1.22% |
| Handlebars | 5.1344 us | 5.1616 us | 5.1888 us | 1.16% |
| Liquid | 10.472 us | 10.489 us | 10.508 us | 0.57% |
 
## Running the benchmarks

```bash
$ cargo bench
```

Plots will be rendered if `gnuplot` is installed and will be available in the `target/criterion` folder.

