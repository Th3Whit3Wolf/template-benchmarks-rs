# Rust template engine benchmarks

This repo tries to assess Rust template engine performance. Following the
download ratings from [crates.io](https://crates.io/categories/template-engine).

| Rank | Library | Description | Recent Downloads | Last Updated |
| :--- | :-----: | :---------- | ---------------: | :----------: |
| 2 | [handlebars](https://github.com/sunng87/handlebars-rust) | Handlebars templating implemented in Rust. | 498,240 | 28 March 2021 |
| 3 | [tera](https://tera.netlify.com/) | Template engine based on Jinja2/Django templates | 265,984 | 21 April 2021 |
| 4 | [askama](https://github.com/djc/askama) | Type-safe, compiled Jinja-like templates for Rust | 98,418 | 17 November 2020 |
| 5 | [liquid](https://github.com/cobalt-org/liquid-rust) | The liquid templating language for Rust | 48,689 | 27 February 2021 |
| 11 | [maud](https://maud.lambda.xyz/) | Compile-time HTML templates. | 12,946 | 09 January 2021 |
| 14 | [ructe](https://github.com/kaj/ructe) | Rust Compiled Templates, efficient type-safe web page templates. | 5,107 | 14 March 2021 |
| 21 | [horrorshow](https://github.com/Stebalien/horrorshow-rs) | a templating library written in rust macros | 3,331 | 21 March 2020 |
| 29 | [markup](https://github.com/utkarshkukreti/markup.rs) | A blazing fast, type-safe template engine for Rust. | 2,200 | 28 March 2021 |
| 33 | [sailfish](https://github.com/Kogia-sima/sailfish) | Simple, small, and extremely fast template engine for Rust | 1,687 | 06 April 2021 |
| unranked | [fomat-macros](https://github.com/krdln/fomat-macros) | Alternative syntax for print/write/format-like macros with a small templating language | 43,513 | 24 February 2019 |
| unranked | [write!](https://doc.rust-lang.org/std/macro.write.html) | the std library `write!` macro | a lot | 23 March 2021 |
## Results

These results are from 26 April 2021 (rustc 1.51.0) on a GitHub Actions runner , which uses a Azure Standard_DS2_v2 virtual machine. 
For more information about the hardware used checkout [Microsoft Azure documentation](https://docs.microsoft.com/en-us/azure/virtual-machines/dv2-dsv2-series#dsv2-series).
Your mileage may vary.

As a [violin plot](https://en.wikipedia.org/wiki/Violin_plot) generated by [Criterion](https://japaric.github.io/criterion.rs/):

![Big table violin plot](big-table.svg)
![Teams violin plot](teams.svg)

Numbers, as output by Criterion:

### Big Table

| Library | Lower bound | Estimate | Upper bound | Relative Performance |
| ------- | ----------: | -------: | ----------: | :------------------- |
| Sailfish | 50.758 us | 51.097 us | 51.479 us | 100.00% |
| Markup | 93.028 us | 93.375 us | 93.771 us | 54.72% |
| fomat | 323.20 us | 324.47 us | 325.85 us | 15.75% |
| Maud | 379.92 us | 381.57 us | 383.53 us | 13.39% |
| Horrorshow | 434.68 us | 437.25 us | 440.22 us | 11.69% |
| write | 469.92 us | 471.94 us | 474.35 us | 10.83% |
| Ructe | 580.97 us | 583.42 us | 586.53 us | 8.76% |
| Askama | 689.28 us | 692.10 us | 695.10 us | 7.38% |
| Tera | 2.5866 ms | 2.5998 ms | 2.6164 ms | 1.97% |
| Handlebars | 6.0004 ms | 6.0288 ms | 6.0609 ms | 0.85% |
| Liquid | 19.174 ms | 19.279 ms | 19.401 ms | 0.26% |
 
### Teams

| Library | Lower bound | Estimate | Upper bound | Relative Performance |
| ------- | ----------: | -------: | ----------: | :------------------- |
| Sailfish | 85.671 ns | 86.198 ns | 86.777 ns | 100.00% |
| Markup | 161.12 ns | 161.79 ns | 162.54 ns | 53.09% |
| Maud | 375.33 ns | 377.76 ns | 380.45 ns | 22.75% |
| fomat | 551.55 ns | 553.33 ns | 555.32 ns | 15.55% |
| Horrorshow | 656.55 ns | 658.82 ns | 661.27 ns | 13.05% |
| write | 817.87 ns | 823.96 ns | 830.94 ns | 10.44% |
| Askama | 997.17 ns | 1.0025 us | 1.0090 us | 8.58% |
| Ructe | 1.1011 us | 1.1112 us | 1.1236 us | 7.74% |
| Handlebars | 6.3196 us | 6.3665 us | 6.4171 us | 1.35% |
| Tera | 6.3912 us | 6.4172 us | 6.4470 us | 1.34% |
| Liquid | 13.715 us | 13.770 us | 13.826 us | 0.62% |
 
## Running the benchmarks

```bash
$ cargo bench
```

Plots will be rendered if `gnuplot` is installed and will be available in the `target/criterion` folder.

