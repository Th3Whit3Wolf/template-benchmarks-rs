# Rust template engine benchmarks

This repo tries to assess Rust template engine performance. Following the
download ratings from [crates.io](https://crates.io/categories/template-engine).

| Rank | Library | Description | Recent Downloads | Last Updated |
| :--- | :-----: | :---------- | ---------------: | :----------: |
| 2 | [handlebars](https://github.com/sunng87/handlebars-rust) | Handlebars templating implemented in Rust. | 511,402 | 03 May 2021 |
| 3 | [tera](https://tera.netlify.com/) | Template engine based on Jinja2/Django templates | 285,766 | 21 April 2021 |
| 4 | [askama](https://github.com/djc/askama) | Type-safe, compiled Jinja-like templates for Rust | 108,740 | 17 November 2020 |
| 5 | [liquid](https://github.com/cobalt-org/liquid-rust) | The liquid templating language for Rust | 47,872 | 27 February 2021 |
| 10 | [maud](https://maud.lambda.xyz/) | Compile-time HTML templates. | 13,566 | 09 January 2021 |
| 14 | [ructe](https://github.com/kaj/ructe) | Rust Compiled Templates, efficient type-safe web page templates. | 5,061 | 14 March 2021 |
| 22 | [horrorshow](https://github.com/Stebalien/horrorshow-rs) | a templating library written in rust macros | 3,400 | 21 March 2020 |
| 26 | [sailfish](https://github.com/Kogia-sima/sailfish) | Simple, small, and extremely fast template engine for Rust | 2,463 | 06 April 2021 |
| 29 | [markup](https://github.com/utkarshkukreti/markup.rs) | A blazing fast, type-safe template engine for Rust. | 2,269 | 28 March 2021 |
| unranked | [fomat-macros](https://github.com/krdln/fomat-macros) | Alternative syntax for print/write/format-like macros with a small templating language | 43,811 | 24 February 2019 |
| unranked | [write!](https://doc.rust-lang.org/std/macro.write.html) | the std library `write!` macro | a lot | 03 May 2021 |
## Results

These results are from 10 May 2021 (rustc 1.52.0) on a GitHub Actions runner , which uses a Azure Standard_DS2_v2 virtual machine. 
For more information about the hardware used checkout [Microsoft Azure documentation](https://docs.microsoft.com/en-us/azure/virtual-machines/dv2-dsv2-series#dsv2-series).
Your mileage may vary.

As a [violin plot](https://en.wikipedia.org/wiki/Violin_plot) generated by [Criterion](https://japaric.github.io/criterion.rs/):

![Big table violin plot](big-table.svg)
![Teams violin plot](teams.svg)

Numbers, as output by Criterion:

### Big Table

| Library | Lower bound | Estimate | Upper bound | Relative Performance |
| ------- | ----------: | -------: | ----------: | :------------------- |
| Sailfish | 49.684 us | 50.576 us | 51.725 us | 100.00% |
| Markup | 207.39 us | 208.92 us | 210.53 us | 24.21% |
| fomat | 318.13 us | 320.26 us | 322.58 us | 15.79% |
| Maud | 349.90 us | 352.39 us | 355.10 us | 14.35% |
| write | 430.02 us | 432.81 us | 435.70 us | 11.69% |
| Horrorshow | 441.03 us | 444.08 us | 447.29 us | 11.39% |
| Ructe | 522.37 us | 529.12 us | 536.69 us | 9.56% |
| Askama | 687.03 us | 692.41 us | 699.36 us | 7.30% |
| Tera | 2.4246 ms | 2.4498 ms | 2.4779 ms | 2.06% |
| Handlebars | 5.1828 ms | 5.2125 ms | 5.2438 ms | 0.97% |
| Liquid | 16.101 ms | 16.233 ms | 16.372 ms | 0.31% |
 
### Teams

| Library | Lower bound | Estimate | Upper bound | Relative Performance |
| ------- | ----------: | -------: | ----------: | :------------------- |
| Sailfish | 83.878 ns | 84.634 ns | 85.418 ns | 100.00% |
| Markup | 257.25 ns | 259.55 ns | 262.22 ns | 32.69% |
| Maud | 337.20 ns | 341.47 ns | 346.72 ns | 24.93% |
| fomat | 488.18 ns | 491.97 ns | 496.14 ns | 17.28% |
| Horrorshow | 663.10 ns | 668.20 ns | 673.57 ns | 12.72% |
| write | 785.16 ns | 791.83 ns | 799.23 ns | 10.73% |
| Askama | 895.61 ns | 902.62 ns | 909.85 ns | 9.41% |
| Ructe | 988.61 ns | 997.74 ns | 1.0077 us | 8.52% |
| Tera | 6.0784 us | 6.1191 us | 6.1620 us | 1.39% |
| Handlebars | 6.2754 us | 6.3535 us | 6.4319 us | 1.34% |
| Liquid | 12.700 us | 12.821 us | 12.954 us | 0.66% |
 
## Running the benchmarks

```bash
$ cargo bench
```

Plots will be rendered if `gnuplot` is installed and will be available in the `target/criterion` folder.

